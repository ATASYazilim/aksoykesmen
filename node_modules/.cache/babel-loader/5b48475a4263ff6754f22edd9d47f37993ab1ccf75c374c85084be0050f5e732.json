{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tahaatas/Downloads/main-2/pitron/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/tahaatas/Downloads/main-2/pitron/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/tahaatas/Downloads/main-2/pitron/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"/Users/tahaatas/Downloads/main-2/pitron/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/Users/tahaatas/Downloads/main-2/pitron/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport { TagsWithInnerContent, SelfClosingTags, computeHashes } from '@unhead/shared';\nfunction propsToString(props) {\n  var handledAttributes = [];\n  for (var _i = 0, _Object$entries = Object.entries(props); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n      key = _Object$entries$_i[0],\n      value = _Object$entries$_i[1];\n    if (value === false || value == null) continue;\n    var attribute = key;\n    if (value !== true) attribute += \"=\\\"\".concat(String(value).replace(/\"/g, \"&quot;\"), \"\\\"\");\n    handledAttributes.push(attribute);\n  }\n  return handledAttributes.length > 0 ? \" \".concat(handledAttributes.join(\" \")) : \"\";\n}\nfunction encodeInnerHtml(str) {\n  return str.replace(/[&<>\"'/]/g, function (_char) {\n    switch (_char) {\n      case \"&\":\n        return \"&amp;\";\n      case \"<\":\n        return \"&lt;\";\n      case \">\":\n        return \"&gt;\";\n      case '\"':\n        return \"&quot;\";\n      case \"'\":\n        return \"&#x27;\";\n      case \"/\":\n        return \"&#x2F;\";\n      default:\n        return _char;\n    }\n  });\n}\nfunction tagToString(tag) {\n  var attrs = propsToString(tag.props);\n  var openTag = \"<\".concat(tag.tag).concat(attrs, \">\");\n  if (!TagsWithInnerContent.includes(tag.tag)) return SelfClosingTags.includes(tag.tag) ? openTag : \"\".concat(openTag, \"</\").concat(tag.tag, \">\");\n  var content = String(tag.innerHTML || \"\");\n  if (tag.textContent) content = encodeInnerHtml(String(tag.textContent));\n  return SelfClosingTags.includes(tag.tag) ? openTag : \"\".concat(openTag).concat(content, \"</\").concat(tag.tag, \">\");\n}\nfunction ssrRenderTags(tags) {\n  var schema = {\n    htmlAttrs: {},\n    bodyAttrs: {},\n    tags: {\n      head: [],\n      bodyClose: [],\n      bodyOpen: []\n    }\n  };\n  var _iterator = _createForOfIteratorHelper(tags),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var tag = _step.value;\n      if (tag.tag === \"htmlAttrs\" || tag.tag === \"bodyAttrs\") {\n        schema[tag.tag] = _objectSpread(_objectSpread({}, schema[tag.tag]), tag.props);\n        continue;\n      }\n      schema.tags[tag.tagPosition || \"head\"].push(tagToString(tag));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return {\n    headTags: schema.tags.head.join(\"\\n\"),\n    bodyTags: schema.tags.bodyClose.join(\"\\n\"),\n    bodyTagsOpen: schema.tags.bodyOpen.join(\"\\n\"),\n    htmlAttrs: propsToString(schema.htmlAttrs),\n    bodyAttrs: propsToString(schema.bodyAttrs)\n  };\n}\nfunction renderSSRHead(_x) {\n  return _renderSSRHead.apply(this, arguments);\n}\nfunction _renderSSRHead() {\n  _renderSSRHead = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(head) {\n    var beforeRenderCtx, ctx, html, renderCtx;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          beforeRenderCtx = {\n            shouldRender: true\n          };\n          _context.next = 3;\n          return head.hooks.callHook(\"ssr:beforeRender\", beforeRenderCtx);\n        case 3:\n          if (beforeRenderCtx.shouldRender) {\n            _context.next = 5;\n            break;\n          }\n          return _context.abrupt(\"return\", {\n            headTags: \"\",\n            bodyTags: \"\",\n            bodyTagsOpen: \"\",\n            htmlAttrs: \"\",\n            bodyAttrs: \"\"\n          });\n        case 5:\n          _context.next = 7;\n          return head.resolveTags();\n        case 7:\n          _context.t0 = _context.sent;\n          ctx = {\n            tags: _context.t0\n          };\n          if (head.resolvedOptions.experimentalHashHydration) {\n            ctx.tags.push({\n              tag: \"meta\",\n              props: {\n                name: \"unhead:ssr\",\n                content: computeHashes(ctx.tags.filter(function (t) {\n                  var entry = head.headEntries().find(function (entry2) {\n                    return entry2._i === t._e;\n                  });\n                  return (entry === null || entry === void 0 ? void 0 : entry.mode) !== \"server\";\n                }).map(function (tag) {\n                  return tag._h;\n                }))\n              }\n            });\n          }\n          _context.next = 12;\n          return head.hooks.callHook(\"ssr:render\", ctx);\n        case 12:\n          html = ssrRenderTags(ctx.tags);\n          renderCtx = {\n            tags: ctx.tags,\n            html: html\n          };\n          _context.next = 16;\n          return head.hooks.callHook(\"ssr:rendered\", renderCtx);\n        case 16:\n          return _context.abrupt(\"return\", renderCtx.html);\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _renderSSRHead.apply(this, arguments);\n}\nexport { encodeInnerHtml, propsToString, renderSSRHead, ssrRenderTags, tagToString };","map":{"version":3,"names":["TagsWithInnerContent","SelfClosingTags","computeHashes","propsToString","props","handledAttributes","_i","_Object$entries","Object","entries","length","_Object$entries$_i","_slicedToArray","key","value","attribute","concat","String","replace","push","join","encodeInnerHtml","str","char","tagToString","tag","attrs","openTag","includes","content","innerHTML","textContent","ssrRenderTags","tags","schema","htmlAttrs","bodyAttrs","head","bodyClose","bodyOpen","_iterator","_createForOfIteratorHelper","_step","s","n","done","_objectSpread","tagPosition","err","e","f","headTags","bodyTags","bodyTagsOpen","renderSSRHead","_x","_renderSSRHead","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","beforeRenderCtx","ctx","html","renderCtx","wrap","_callee$","_context","prev","next","shouldRender","hooks","callHook","abrupt","resolveTags","t0","sent","resolvedOptions","experimentalHashHydration","name","filter","t","entry","headEntries","find","entry2","_e","mode","map","_h","stop"],"sources":["/Users/tahaatas/Downloads/main-2/pitron/node_modules/@unhead/ssr/dist/index.mjs"],"sourcesContent":["import { TagsWithInnerContent, SelfClosingTags, computeHashes } from '@unhead/shared';\n\nfunction propsToString(props) {\n  const handledAttributes = [];\n  for (const [key, value] of Object.entries(props)) {\n    if (value === false || value == null)\n      continue;\n    let attribute = key;\n    if (value !== true)\n      attribute += `=\"${String(value).replace(/\"/g, \"&quot;\")}\"`;\n    handledAttributes.push(attribute);\n  }\n  return handledAttributes.length > 0 ? ` ${handledAttributes.join(\" \")}` : \"\";\n}\n\nfunction encodeInnerHtml(str) {\n  return str.replace(/[&<>\"'/]/g, (char) => {\n    switch (char) {\n      case \"&\":\n        return \"&amp;\";\n      case \"<\":\n        return \"&lt;\";\n      case \">\":\n        return \"&gt;\";\n      case '\"':\n        return \"&quot;\";\n      case \"'\":\n        return \"&#x27;\";\n      case \"/\":\n        return \"&#x2F;\";\n      default:\n        return char;\n    }\n  });\n}\nfunction tagToString(tag) {\n  const attrs = propsToString(tag.props);\n  const openTag = `<${tag.tag}${attrs}>`;\n  if (!TagsWithInnerContent.includes(tag.tag))\n    return SelfClosingTags.includes(tag.tag) ? openTag : `${openTag}</${tag.tag}>`;\n  let content = String(tag.innerHTML || \"\");\n  if (tag.textContent)\n    content = encodeInnerHtml(String(tag.textContent));\n  return SelfClosingTags.includes(tag.tag) ? openTag : `${openTag}${content}</${tag.tag}>`;\n}\n\nfunction ssrRenderTags(tags) {\n  const schema = { htmlAttrs: {}, bodyAttrs: {}, tags: { head: [], bodyClose: [], bodyOpen: [] } };\n  for (const tag of tags) {\n    if (tag.tag === \"htmlAttrs\" || tag.tag === \"bodyAttrs\") {\n      schema[tag.tag] = { ...schema[tag.tag], ...tag.props };\n      continue;\n    }\n    schema.tags[tag.tagPosition || \"head\"].push(tagToString(tag));\n  }\n  return {\n    headTags: schema.tags.head.join(\"\\n\"),\n    bodyTags: schema.tags.bodyClose.join(\"\\n\"),\n    bodyTagsOpen: schema.tags.bodyOpen.join(\"\\n\"),\n    htmlAttrs: propsToString(schema.htmlAttrs),\n    bodyAttrs: propsToString(schema.bodyAttrs)\n  };\n}\n\nasync function renderSSRHead(head) {\n  const beforeRenderCtx = { shouldRender: true };\n  await head.hooks.callHook(\"ssr:beforeRender\", beforeRenderCtx);\n  if (!beforeRenderCtx.shouldRender) {\n    return {\n      headTags: \"\",\n      bodyTags: \"\",\n      bodyTagsOpen: \"\",\n      htmlAttrs: \"\",\n      bodyAttrs: \"\"\n    };\n  }\n  const ctx = { tags: await head.resolveTags() };\n  if (head.resolvedOptions.experimentalHashHydration) {\n    ctx.tags.push({\n      tag: \"meta\",\n      props: {\n        name: \"unhead:ssr\",\n        content: computeHashes(\n          ctx.tags.filter((t) => {\n            const entry = head.headEntries().find((entry2) => entry2._i === t._e);\n            return entry?.mode !== \"server\";\n          }).map((tag) => tag._h)\n        )\n      }\n    });\n  }\n  await head.hooks.callHook(\"ssr:render\", ctx);\n  const html = ssrRenderTags(ctx.tags);\n  const renderCtx = { tags: ctx.tags, html };\n  await head.hooks.callHook(\"ssr:rendered\", renderCtx);\n  return renderCtx.html;\n}\n\nexport { encodeInnerHtml, propsToString, renderSSRHead, ssrRenderTags, tagToString };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}