{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tahaatas/Desktop/aksoykesmen/pitron/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _defineProperty from \"/Users/tahaatas/Desktop/aksoykesmen/pitron/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Users/tahaatas/Desktop/aksoykesmen/pitron/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Users/tahaatas/Desktop/aksoykesmen/pitron/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"/Users/tahaatas/Desktop/aksoykesmen/pitron/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _createForOfIteratorHelper from \"/Users/tahaatas/Desktop/aksoykesmen/pitron/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/Users/tahaatas/Desktop/aksoykesmen/pitron/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.reverse.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { TagsWithInnerContent, computeHashes, hashTag, HasElementTags, tagDedupeKey, defineHeadPlugin } from '@unhead/shared';\nfunction setAttrs(ctx) {\n  var newEntry = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var markSideEffect = arguments.length > 2 ? arguments[2] : undefined;\n  var tag = ctx.tag,\n    $el = ctx.$el;\n  if (!$el) return;\n  Object.entries(tag.props).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      k = _ref2[0],\n      value = _ref2[1];\n    value = String(value);\n    var attrSdeKey = \"attr:\".concat(k);\n    if (k === \"class\") {\n      if (!value) return;\n      var _iterator = _createForOfIteratorHelper(value.split(\" \")),\n        _step;\n      try {\n        var _loop = function _loop() {\n          var c = _step.value;\n          var classSdeKey = \"\".concat(attrSdeKey, \":\").concat(c);\n          if (markSideEffect) markSideEffect(ctx, classSdeKey, function () {\n            return $el.classList.remove(c);\n          });\n          if (!$el.classList.contains(c)) $el.classList.add(c);\n        };\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return;\n    }\n    if (markSideEffect && !k.startsWith(\"data-h-\")) markSideEffect(ctx, attrSdeKey, function () {\n      return $el.removeAttribute(k);\n    });\n    if (newEntry || $el.getAttribute(k) !== value) $el.setAttribute(k, value);\n  });\n  if (TagsWithInnerContent.includes(tag.tag)) {\n    if (tag.textContent && tag.textContent !== $el.textContent) $el.textContent = tag.textContent;else if (tag.innerHTML && tag.innerHTML !== $el.innerHTML) $el.innerHTML = tag.innerHTML;\n  }\n}\nvar prevHash = false;\nfunction renderDOMHead(_x) {\n  return _renderDOMHead.apply(this, arguments);\n}\nfunction _renderDOMHead() {\n  _renderDOMHead = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(head) {\n    var options,\n      beforeRenderCtx,\n      dom,\n      tagContexts,\n      hash,\n      staleSideEffects,\n      _markSideEffect,\n      setupTagRenderCtx,\n      renders,\n      pendingRenders,\n      markEl,\n      _iterator2,\n      _step2,\n      _tag$tagPosition,\n      _tag$tagPosition2,\n      _ctx,\n      tag,\n      fragments,\n      _i,\n      _renders,\n      ctx,\n      _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          setupTagRenderCtx = function _setupTagRenderCtx(tag) {\n            var entry = head.headEntries().find(function (e) {\n              return e._i === tag._e;\n            });\n            var renderCtx = {\n              renderId: tag._d || hashTag(tag),\n              $el: null,\n              shouldRender: true,\n              tag: tag,\n              entry: entry,\n              markSideEffect: function markSideEffect(key, fn) {\n                return _markSideEffect(renderCtx, key, fn);\n              }\n            };\n            return renderCtx;\n          };\n          options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n          beforeRenderCtx = {\n            shouldRender: true\n          };\n          _context.next = 5;\n          return head.hooks.callHook(\"dom:beforeRender\", beforeRenderCtx);\n        case 5:\n          if (beforeRenderCtx.shouldRender) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\");\n        case 7:\n          dom = options.document || head.resolvedOptions.document || window.document;\n          _context.next = 10;\n          return head.resolveTags();\n        case 10:\n          tagContexts = _context.sent.map(setupTagRenderCtx);\n          if (!head.resolvedOptions.experimentalHashHydration) {\n            _context.next = 18;\n            break;\n          }\n          prevHash = prevHash || head._hash || false;\n          if (!prevHash) {\n            _context.next = 18;\n            break;\n          }\n          hash = computeHashes(tagContexts.map(function (ctx) {\n            return ctx.tag._h;\n          }));\n          if (!(prevHash === hash)) {\n            _context.next = 17;\n            break;\n          }\n          return _context.abrupt(\"return\");\n        case 17:\n          prevHash = hash;\n        case 18:\n          staleSideEffects = head._popSideEffectQueue();\n          head.headEntries().map(function (entry) {\n            return entry._sde;\n          }).forEach(function (sde) {\n            Object.entries(sde).forEach(function (_ref3) {\n              var _ref4 = _slicedToArray(_ref3, 2),\n                key = _ref4[0],\n                fn = _ref4[1];\n              staleSideEffects[key] = fn;\n            });\n          });\n          _markSideEffect = function markSideEffect(ctx, key, fn) {\n            key = \"\".concat(ctx.renderId, \":\").concat(key);\n            if (ctx.entry) ctx.entry._sde[key] = fn;\n            delete staleSideEffects[key];\n          };\n          renders = [];\n          pendingRenders = {\n            body: [],\n            head: []\n          };\n          markEl = function markEl(ctx) {\n            head._elMap[ctx.renderId] = ctx.$el;\n            renders.push(ctx);\n            _markSideEffect(ctx, \"el\", function () {\n              var _ctx$$el;\n              (_ctx$$el = ctx.$el) === null || _ctx$$el === void 0 ? void 0 : _ctx$$el.remove();\n              delete head._elMap[ctx.renderId];\n            });\n          };\n          _iterator2 = _createForOfIteratorHelper(tagContexts);\n          _context.prev = 25;\n          _iterator2.s();\n        case 27:\n          if ((_step2 = _iterator2.n()).done) {\n            _context.next = 52;\n            break;\n          }\n          _ctx = _step2.value;\n          _context.next = 31;\n          return head.hooks.callHook(\"dom:beforeRenderTag\", _ctx);\n        case 31:\n          if (_ctx.shouldRender) {\n            _context.next = 33;\n            break;\n          }\n          return _context.abrupt(\"continue\", 50);\n        case 33:\n          tag = _ctx.tag;\n          if (!(tag.tag === \"title\")) {\n            _context.next = 38;\n            break;\n          }\n          dom.title = tag.textContent || \"\";\n          renders.push(_ctx);\n          return _context.abrupt(\"continue\", 50);\n        case 38:\n          if (!(tag.tag === \"htmlAttrs\" || tag.tag === \"bodyAttrs\")) {\n            _context.next = 43;\n            break;\n          }\n          _ctx.$el = dom[tag.tag === \"htmlAttrs\" ? \"documentElement\" : \"body\"];\n          setAttrs(_ctx, false, _markSideEffect);\n          renders.push(_ctx);\n          return _context.abrupt(\"continue\", 50);\n        case 43:\n          _ctx.$el = head._elMap[_ctx.renderId];\n          if (!_ctx.$el && tag.key) _ctx.$el = dom.querySelector(\"\".concat((_tag$tagPosition = tag.tagPosition) !== null && _tag$tagPosition !== void 0 && _tag$tagPosition.startsWith(\"body\") ? \"body\" : \"head\", \" > \").concat(tag.tag, \"[data-h-\").concat(tag._h, \"]\"));\n          if (!_ctx.$el) {\n            _context.next = 49;\n            break;\n          }\n          if (_ctx.tag._d) setAttrs(_ctx);\n          markEl(_ctx);\n          return _context.abrupt(\"continue\", 50);\n        case 49:\n          pendingRenders[(_tag$tagPosition2 = tag.tagPosition) !== null && _tag$tagPosition2 !== void 0 && _tag$tagPosition2.startsWith(\"body\") ? \"body\" : \"head\"].push(_ctx);\n        case 50:\n          _context.next = 27;\n          break;\n        case 52:\n          _context.next = 57;\n          break;\n        case 54:\n          _context.prev = 54;\n          _context.t0 = _context[\"catch\"](25);\n          _iterator2.e(_context.t0);\n        case 57:\n          _context.prev = 57;\n          _iterator2.f();\n          return _context.finish(57);\n        case 60:\n          fragments = {\n            bodyClose: void 0,\n            bodyOpen: void 0,\n            head: void 0\n          };\n          Object.entries(pendingRenders).forEach(function (_ref5) {\n            var _dom$pos;\n            var _ref6 = _slicedToArray(_ref5, 2),\n              pos = _ref6[0],\n              queue = _ref6[1];\n            if (!queue.length) return;\n            var children = dom === null || dom === void 0 || (_dom$pos = dom[pos]) === null || _dom$pos === void 0 ? void 0 : _dom$pos.children;\n            if (!children) return;\n            var _iterator3 = _createForOfIteratorHelper(_toConsumableArray(children).reverse()),\n              _step3;\n            try {\n              var _loop2 = function _loop2() {\n                var $el = _step3.value;\n                var elTag = $el.tagName.toLowerCase();\n                if (!HasElementTags.includes(elTag)) return \"continue\";\n                var props = $el.getAttributeNames().reduce(function (props2, name) {\n                  return _objectSpread(_objectSpread({}, props2), {}, _defineProperty({}, name, $el.getAttribute(name)));\n                }, {});\n                var tmpTag = {\n                  tag: elTag,\n                  props: props\n                };\n                if ($el.innerHTML) tmpTag.innerHTML = $el.innerHTML;\n                var tmpRenderId = hashTag(tmpTag);\n                var matchIdx = queue.findIndex(function (ctx) {\n                  return (ctx === null || ctx === void 0 ? void 0 : ctx.renderId) === tmpRenderId;\n                });\n                if (matchIdx === -1) {\n                  var tmpDedupeKey = tagDedupeKey(tmpTag);\n                  matchIdx = queue.findIndex(function (ctx) {\n                    return (ctx === null || ctx === void 0 ? void 0 : ctx.tag._d) && ctx.tag._d === tmpDedupeKey;\n                  });\n                }\n                if (matchIdx !== -1) {\n                  var ctx = queue[matchIdx];\n                  ctx.$el = $el;\n                  setAttrs(ctx);\n                  markEl(ctx);\n                  delete queue[matchIdx];\n                }\n              };\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                var _ret = _loop2();\n                if (_ret === \"continue\") continue;\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n            queue.forEach(function (ctx) {\n              var pos2 = ctx.tag.tagPosition || \"head\";\n              fragments[pos2] = fragments[pos2] || dom.createDocumentFragment();\n              if (!ctx.$el) {\n                ctx.$el = dom.createElement(ctx.tag.tag);\n                setAttrs(ctx, true);\n              }\n              fragments[pos2].appendChild(ctx.$el);\n              markEl(ctx);\n            });\n          });\n          if (fragments.head) dom.head.appendChild(fragments.head);\n          if (fragments.bodyOpen) dom.body.insertBefore(fragments.bodyOpen, dom.body.firstChild);\n          if (fragments.bodyClose) dom.body.appendChild(fragments.bodyClose);\n          _i = 0, _renders = renders;\n        case 66:\n          if (!(_i < _renders.length)) {\n            _context.next = 73;\n            break;\n          }\n          ctx = _renders[_i];\n          _context.next = 70;\n          return head.hooks.callHook(\"dom:renderTag\", ctx);\n        case 70:\n          _i++;\n          _context.next = 66;\n          break;\n        case 73:\n          Object.values(staleSideEffects).forEach(function (fn) {\n            return fn();\n          });\n        case 74:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[25, 54, 57, 60]]);\n  }));\n  return _renderDOMHead.apply(this, arguments);\n}\nvar domUpdatePromise = null;\nfunction debouncedRenderDOMHead(_x2) {\n  return _debouncedRenderDOMHead.apply(this, arguments);\n}\nfunction _debouncedRenderDOMHead() {\n  _debouncedRenderDOMHead = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(head) {\n    var options,\n      doDomUpdate,\n      delayFn,\n      _args2 = arguments;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          doDomUpdate = function _doDomUpdate() {\n            domUpdatePromise = null;\n            return renderDOMHead(head, options);\n          };\n          options = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n          delayFn = options.delayFn || function (fn) {\n            return setTimeout(fn, 10);\n          };\n          return _context2.abrupt(\"return\", domUpdatePromise = domUpdatePromise || new Promise(function (resolve) {\n            return delayFn(function () {\n              return resolve(doDomUpdate());\n            });\n          }));\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _debouncedRenderDOMHead.apply(this, arguments);\n}\nfunction PatchDomOnEntryUpdatesPlugin(options) {\n  return defineHeadPlugin({\n    hooks: {\n      \"entries:updated\": function entriesUpdated(head) {\n        if (typeof (options === null || options === void 0 ? void 0 : options.document) === \"undefined\" && typeof window === \"undefined\") return;\n        var delayFn = options === null || options === void 0 ? void 0 : options.delayFn;\n        if (!delayFn && typeof requestAnimationFrame !== \"undefined\") delayFn = requestAnimationFrame;\n        debouncedRenderDOMHead(head, {\n          document: (options === null || options === void 0 ? void 0 : options.document) || window.document,\n          delayFn: delayFn\n        });\n      }\n    }\n  });\n}\nfunction maybeGetSSRHash(document) {\n  var _document$head$queryS;\n  return (document === null || document === void 0 || (_document$head$queryS = document.head.querySelector('meta[name=\"unhead:ssr\"]')) === null || _document$head$queryS === void 0 ? void 0 : _document$head$queryS.getAttribute(\"content\")) || false;\n}\nexport { PatchDomOnEntryUpdatesPlugin, debouncedRenderDOMHead, domUpdatePromise, maybeGetSSRHash, renderDOMHead, setAttrs };","map":{"version":3,"names":["TagsWithInnerContent","computeHashes","hashTag","HasElementTags","tagDedupeKey","defineHeadPlugin","setAttrs","ctx","newEntry","arguments","length","undefined","markSideEffect","tag","$el","Object","entries","props","forEach","_ref","_ref2","_slicedToArray","k","value","String","attrSdeKey","concat","_iterator","_createForOfIteratorHelper","split","_step","_loop","c","classSdeKey","classList","remove","contains","add","s","n","done","err","e","f","startsWith","removeAttribute","getAttribute","setAttribute","includes","textContent","innerHTML","prevHash","renderDOMHead","_x","_renderDOMHead","apply","_asyncToGenerator","_regeneratorRuntime","mark","_callee","head","options","beforeRenderCtx","dom","tagContexts","hash","staleSideEffects","_markSideEffect","setupTagRenderCtx","renders","pendingRenders","markEl","_iterator2","_step2","_tag$tagPosition","_tag$tagPosition2","_ctx","fragments","_i","_renders","_args","wrap","_callee$","_context","prev","next","_setupTagRenderCtx","entry","headEntries","find","_e","renderCtx","renderId","_d","shouldRender","key","fn","hooks","callHook","abrupt","document","resolvedOptions","window","resolveTags","sent","map","experimentalHashHydration","_hash","_h","_popSideEffectQueue","_sde","sde","_ref3","_ref4","body","_elMap","push","_ctx$$el","title","querySelector","tagPosition","t0","finish","bodyClose","bodyOpen","_ref5","_dom$pos","_ref6","pos","queue","children","_iterator3","_toConsumableArray","reverse","_step3","_loop2","elTag","tagName","toLowerCase","getAttributeNames","reduce","props2","name","_objectSpread","_defineProperty","tmpTag","tmpRenderId","matchIdx","findIndex","tmpDedupeKey","_ret","pos2","createDocumentFragment","createElement","appendChild","insertBefore","firstChild","values","stop","domUpdatePromise","debouncedRenderDOMHead","_x2","_debouncedRenderDOMHead","_callee2","doDomUpdate","delayFn","_args2","_callee2$","_context2","_doDomUpdate","setTimeout","Promise","resolve","PatchDomOnEntryUpdatesPlugin","entriesUpdated","requestAnimationFrame","maybeGetSSRHash","_document$head$queryS"],"sources":["/Users/tahaatas/Desktop/aksoykesmen/pitron/node_modules/@unhead/dom/dist/index.mjs"],"sourcesContent":["import { TagsWithInnerContent, computeHashes, hashTag, HasElementTags, tagDedupeKey, defineHeadPlugin } from '@unhead/shared';\n\nfunction setAttrs(ctx, newEntry = false, markSideEffect) {\n  const { tag, $el } = ctx;\n  if (!$el)\n    return;\n  Object.entries(tag.props).forEach(([k, value]) => {\n    value = String(value);\n    const attrSdeKey = `attr:${k}`;\n    if (k === \"class\") {\n      if (!value)\n        return;\n      for (const c of value.split(\" \")) {\n        const classSdeKey = `${attrSdeKey}:${c}`;\n        if (markSideEffect)\n          markSideEffect(ctx, classSdeKey, () => $el.classList.remove(c));\n        if (!$el.classList.contains(c))\n          $el.classList.add(c);\n      }\n      return;\n    }\n    if (markSideEffect && !k.startsWith(\"data-h-\"))\n      markSideEffect(ctx, attrSdeKey, () => $el.removeAttribute(k));\n    if (newEntry || $el.getAttribute(k) !== value)\n      $el.setAttribute(k, value);\n  });\n  if (TagsWithInnerContent.includes(tag.tag)) {\n    if (tag.textContent && tag.textContent !== $el.textContent)\n      $el.textContent = tag.textContent;\n    else if (tag.innerHTML && tag.innerHTML !== $el.innerHTML)\n      $el.innerHTML = tag.innerHTML;\n  }\n}\n\nlet prevHash = false;\nasync function renderDOMHead(head, options = {}) {\n  const beforeRenderCtx = { shouldRender: true };\n  await head.hooks.callHook(\"dom:beforeRender\", beforeRenderCtx);\n  if (!beforeRenderCtx.shouldRender)\n    return;\n  const dom = options.document || head.resolvedOptions.document || window.document;\n  const tagContexts = (await head.resolveTags()).map(setupTagRenderCtx);\n  if (head.resolvedOptions.experimentalHashHydration) {\n    prevHash = prevHash || head._hash || false;\n    if (prevHash) {\n      const hash = computeHashes(tagContexts.map((ctx) => ctx.tag._h));\n      if (prevHash === hash)\n        return;\n      prevHash = hash;\n    }\n  }\n  const staleSideEffects = head._popSideEffectQueue();\n  head.headEntries().map((entry) => entry._sde).forEach((sde) => {\n    Object.entries(sde).forEach(([key, fn]) => {\n      staleSideEffects[key] = fn;\n    });\n  });\n  const markSideEffect = (ctx, key, fn) => {\n    key = `${ctx.renderId}:${key}`;\n    if (ctx.entry)\n      ctx.entry._sde[key] = fn;\n    delete staleSideEffects[key];\n  };\n  function setupTagRenderCtx(tag) {\n    const entry = head.headEntries().find((e) => e._i === tag._e);\n    const renderCtx = {\n      renderId: tag._d || hashTag(tag),\n      $el: null,\n      shouldRender: true,\n      tag,\n      entry,\n      markSideEffect: (key, fn) => markSideEffect(renderCtx, key, fn)\n    };\n    return renderCtx;\n  }\n  const renders = [];\n  const pendingRenders = {\n    body: [],\n    head: []\n  };\n  const markEl = (ctx) => {\n    head._elMap[ctx.renderId] = ctx.$el;\n    renders.push(ctx);\n    markSideEffect(ctx, \"el\", () => {\n      ctx.$el?.remove();\n      delete head._elMap[ctx.renderId];\n    });\n  };\n  for (const ctx of tagContexts) {\n    await head.hooks.callHook(\"dom:beforeRenderTag\", ctx);\n    if (!ctx.shouldRender)\n      continue;\n    const { tag } = ctx;\n    if (tag.tag === \"title\") {\n      dom.title = tag.textContent || \"\";\n      renders.push(ctx);\n      continue;\n    }\n    if (tag.tag === \"htmlAttrs\" || tag.tag === \"bodyAttrs\") {\n      ctx.$el = dom[tag.tag === \"htmlAttrs\" ? \"documentElement\" : \"body\"];\n      setAttrs(ctx, false, markSideEffect);\n      renders.push(ctx);\n      continue;\n    }\n    ctx.$el = head._elMap[ctx.renderId];\n    if (!ctx.$el && tag.key)\n      ctx.$el = dom.querySelector(`${tag.tagPosition?.startsWith(\"body\") ? \"body\" : \"head\"} > ${tag.tag}[data-h-${tag._h}]`);\n    if (ctx.$el) {\n      if (ctx.tag._d)\n        setAttrs(ctx);\n      markEl(ctx);\n      continue;\n    }\n    pendingRenders[tag.tagPosition?.startsWith(\"body\") ? \"body\" : \"head\"].push(ctx);\n  }\n  const fragments = {\n    bodyClose: void 0,\n    bodyOpen: void 0,\n    head: void 0\n  };\n  Object.entries(pendingRenders).forEach(([pos, queue]) => {\n    if (!queue.length)\n      return;\n    const children = dom?.[pos]?.children;\n    if (!children)\n      return;\n    for (const $el of [...children].reverse()) {\n      const elTag = $el.tagName.toLowerCase();\n      if (!HasElementTags.includes(elTag))\n        continue;\n      const props = $el.getAttributeNames().reduce((props2, name) => ({ ...props2, [name]: $el.getAttribute(name) }), {});\n      const tmpTag = { tag: elTag, props };\n      if ($el.innerHTML)\n        tmpTag.innerHTML = $el.innerHTML;\n      const tmpRenderId = hashTag(tmpTag);\n      let matchIdx = queue.findIndex((ctx) => ctx?.renderId === tmpRenderId);\n      if (matchIdx === -1) {\n        const tmpDedupeKey = tagDedupeKey(tmpTag);\n        matchIdx = queue.findIndex((ctx) => ctx?.tag._d && ctx.tag._d === tmpDedupeKey);\n      }\n      if (matchIdx !== -1) {\n        const ctx = queue[matchIdx];\n        ctx.$el = $el;\n        setAttrs(ctx);\n        markEl(ctx);\n        delete queue[matchIdx];\n      }\n    }\n    queue.forEach((ctx) => {\n      const pos2 = ctx.tag.tagPosition || \"head\";\n      fragments[pos2] = fragments[pos2] || dom.createDocumentFragment();\n      if (!ctx.$el) {\n        ctx.$el = dom.createElement(ctx.tag.tag);\n        setAttrs(ctx, true);\n      }\n      fragments[pos2].appendChild(ctx.$el);\n      markEl(ctx);\n    });\n  });\n  if (fragments.head)\n    dom.head.appendChild(fragments.head);\n  if (fragments.bodyOpen)\n    dom.body.insertBefore(fragments.bodyOpen, dom.body.firstChild);\n  if (fragments.bodyClose)\n    dom.body.appendChild(fragments.bodyClose);\n  for (const ctx of renders)\n    await head.hooks.callHook(\"dom:renderTag\", ctx);\n  Object.values(staleSideEffects).forEach((fn) => fn());\n}\nlet domUpdatePromise = null;\nasync function debouncedRenderDOMHead(head, options = {}) {\n  function doDomUpdate() {\n    domUpdatePromise = null;\n    return renderDOMHead(head, options);\n  }\n  const delayFn = options.delayFn || ((fn) => setTimeout(fn, 10));\n  return domUpdatePromise = domUpdatePromise || new Promise((resolve) => delayFn(() => resolve(doDomUpdate())));\n}\n\nfunction PatchDomOnEntryUpdatesPlugin(options) {\n  return defineHeadPlugin({\n    hooks: {\n      \"entries:updated\": function(head) {\n        if (typeof options?.document === \"undefined\" && typeof window === \"undefined\")\n          return;\n        let delayFn = options?.delayFn;\n        if (!delayFn && typeof requestAnimationFrame !== \"undefined\")\n          delayFn = requestAnimationFrame;\n        debouncedRenderDOMHead(head, { document: options?.document || window.document, delayFn });\n      }\n    }\n  });\n}\n\nfunction maybeGetSSRHash(document) {\n  return document?.head.querySelector('meta[name=\"unhead:ssr\"]')?.getAttribute(\"content\") || false;\n}\n\nexport { PatchDomOnEntryUpdatesPlugin, debouncedRenderDOMHead, domUpdatePromise, maybeGetSSRHash, renderDOMHead, setAttrs };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}